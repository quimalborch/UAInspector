<UserControl x:Class="UAInspector.Views.LoginView"
 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        mc:Ignorable="d"
      d:DesignHeight="500" d:DesignWidth="450"
             Background="{DynamicResource BackgroundBrush}">
   
    <Grid>
  <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Width="420">
             
     <!-- Header -->
         <StackPanel Margin="0,0,0,32">
      <TextBlock Text="?? Authentication" 
        FontSize="28" 
 FontWeight="Bold"
     Foreground="{DynamicResource TextPrimaryBrush}"
       Margin="0,0,0,8"/>
   <TextBlock Text="Connect securely to OPC UA server"
     FontSize="14"
  Foreground="{DynamicResource TextSecondaryBrush}"/>
   </StackPanel>

  <!-- Login Type Selection -->
      <Border Background="{DynamicResource SurfaceBrush}"
         BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="1"
      CornerRadius="8"
  Padding="16"
    Margin="0,0,0,24">
    <StackPanel>
    <TextBlock Text="Login Type"
 FontSize="12"
        FontWeight="SemiBold"
 Foreground="{DynamicResource TextPrimaryBrush}"
      Margin="0,0,0,12"/>
        
 <StackPanel Margin="0,8,0,0">
          <RadioButton Content="?? Anonymous"
   GroupName="LoginType"
        Foreground="{DynamicResource TextPrimaryBrush}"
           Cursor="Hand">
  <RadioButton.IsChecked>
<Binding Path="SelectedLoginType" 
       Converter="{StaticResource EnumToBoolConverter}"
       ConverterParameter="Anonymous"/>
    </RadioButton.IsChecked>
      </RadioButton>
  
       <RadioButton Content="?? Username/Password"
           GroupName="LoginType"
      Foreground="{DynamicResource TextPrimaryBrush}"
      Cursor="Hand"
               Margin="0,8,0,0">
   <RadioButton.IsChecked>
  <Binding Path="SelectedLoginType"
         Converter="{StaticResource EnumToBoolConverter}"
  ConverterParameter="UserNamePassword"/>
        </RadioButton.IsChecked>
          </RadioButton>
    
      <RadioButton Content="?? Certificate"
      GroupName="LoginType"
  Foreground="{DynamicResource TextPrimaryBrush}" 
  Cursor="Hand"
       IsEnabled="False"
  Margin="0,8,0,0">
   <RadioButton.IsChecked>
   <Binding Path="SelectedLoginType"
Converter="{StaticResource EnumToBoolConverter}"
   ConverterParameter="Certificate"/>
      </RadioButton.IsChecked>
      </RadioButton>
     </StackPanel>
     </StackPanel>
      </Border>

  <!-- Credentials -->
        <Border Background="{DynamicResource SurfaceBrush}"
     BorderBrush="{DynamicResource BorderBrush}"
        BorderThickness="1"
   CornerRadius="8"
 Padding="16"
  Margin="0,0,0,24"
  Visibility="{Binding IsCredentialsVisible, Converter={StaticResource BoolToVisibilityConverter}}">
        <StackPanel>
   <!-- Username -->
     <StackPanel Margin="0,0,0,16">
 <TextBlock Text="?? Username"
  FontSize="12"
    FontWeight="SemiBold"
    Foreground="{DynamicResource TextPrimaryBrush}"
     Margin="0,0,0,8"/>
    <TextBox Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
Style="{DynamicResource ModernTextBox}"
    Padding="12,10"
FontSize="13"/>
    </StackPanel>

   <!-- Password -->
     <StackPanel Margin="0,0,0,12">
          <TextBlock Text="?? Password"
 FontSize="12"
        FontWeight="SemiBold"
      Foreground="{DynamicResource TextPrimaryBrush}"
       Margin="0,0,0,8"/>
        <PasswordBox x:Name="PasswordBox"
Style="{DynamicResource ModernPasswordBox}"
      Padding="12,10"
   FontSize="13"/>
       </StackPanel>

      <!-- Remember Credentials -->
      <CheckBox IsChecked="{Binding RememberCredentials}"
      Content="?? Remember credentials for next time"
   Foreground="{DynamicResource TextPrimaryBrush}"
       FontSize="12"
   Cursor="Hand"
  Margin="0,8,0,0"/>
   </StackPanel>
           </Border>

<!-- Error Message -->
  <Border Background="#FFD6D6"
   BorderBrush="#C81123"
    BorderThickness="1"
 CornerRadius="6"
  Padding="12"
Margin="0,0,0,16"
 Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}">
        <StackPanel Orientation="Horizontal">
    <TextBlock Text="??" FontSize="16" Margin="0,0,8,0"/>
  <TextBlock Text="{Binding ErrorMessage}"
         Foreground="#C81123"
  FontSize="12"
 TextWrapping="Wrap"
    VerticalAlignment="Center"/>
      </StackPanel>
      </Border>

   <!-- Loading Indicator -->
        <Border Background="{DynamicResource SurfaceBrush}"
BorderBrush="{DynamicResource AccentBrush}"
 BorderThickness="1"
        CornerRadius="6"
   Padding="12"
Margin="0,0,0,16"
  Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}">
          <StackPanel Orientation="Horizontal">
      <TextBlock Text="?" FontSize="14" Margin="0,0,8,0"/>
    <TextBlock Text="Connecting..."
 Foreground="{DynamicResource AccentBrush}"
      FontSize="12"
            VerticalAlignment="Center"/>
    </StackPanel>
    </Border>

     <!-- Buttons -->
         <Grid>
  <Grid.ColumnDefinitions>
   <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="12"/>
    <ColumnDefinition Width="*"/>
         </Grid.ColumnDefinitions>

      <Button Grid.Column="0"
       Content="Cancel"
    Command="{Binding CancelCommand}"
    Style="{DynamicResource SecondaryButton}"
   Padding="0,12"
FontSize="13"
      FontWeight="Medium"/>

   <Button Grid.Column="2"
       Content="Connect"
   Command="{Binding LoginCommand}"
       Style="{DynamicResource ModernButton}"
         Foreground="White"
  Padding="0,12"
    FontSize="13"
    FontWeight="Medium"/>
       </Grid>
   </StackPanel>
   </Grid>
</UserControl>
