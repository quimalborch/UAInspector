<UserControl x:Class="UAInspector.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
          xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
          mc:Ignorable="d" 
  d:DesignHeight="600" d:DesignWidth="1000">
    
    <Grid Background="{DynamicResource BackgroundBrush}">
        <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{DynamicResource SurfaceBrush}" 
       BorderBrush="{DynamicResource BorderBrush}"
          BorderThickness="0,0,0,1" Padding="24,20">
      <Grid>
  <Grid.ColumnDefinitions>
     <ColumnDefinition Width="*"/>
               <ColumnDefinition Width="Auto"/>
 </Grid.ColumnDefinitions>

           <!-- Title Section -->
        <StackPanel Grid.Column="0">
          <TextBlock Text="Application Settings" 
           Style="{StaticResource HeaderText}"
       Margin="0,0,0,4"/>
         <TextBlock Text="Configure UAInspector preferences and behavior" 
              FontSize="13"
       Foreground="{DynamicResource TextSecondaryBrush}"/>
                </StackPanel>

           <!-- Action Buttons -->
   <StackPanel Grid.Column="1" Orientation="Horizontal">
         <Button Content="💾 Save" 
             Command="{Binding SaveCommand}"
            Padding="20,10"
     Margin="0,0,8,0"
            ToolTip="Save all settings">
          <Button.Style>
              <Style TargetType="Button" BasedOn="{StaticResource ModernButton}">
             <Style.Triggers>
              <DataTrigger Binding="{Binding IsDirty}" Value="False">
        <Setter Property="IsEnabled" Value="False"/>
        <Setter Property="Opacity" Value="0.5"/>
</DataTrigger>
    </Style.Triggers>
      </Style>
       </Button.Style>
         </Button>
    <Button Content="🔄 Reset" 
            Command="{Binding ResetCommand}"
             Style="{StaticResource SecondaryButton}"
            Padding="20,10"
      ToolTip="Reset to default settings"/>
             </StackPanel>
          </Grid>
        </Border>

<!-- Main Content -->
  <ScrollViewer Grid.Row="1" 
   VerticalScrollBarVisibility="Auto"
     Padding="24">
  <StackPanel MaxWidth="800">
           
    <!-- General Settings -->
                <Border Style="{StaticResource Card}" Margin="0,0,0,16">
    <Grid>
            <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
               <RowDefinition Height="Auto"/>
       </Grid.RowDefinitions>

          <!-- Section Title -->
     <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
       <TextBlock Text="⚙️" FontSize="20" VerticalAlignment="Center" 
   Foreground="{DynamicResource TextPrimaryBrush}"
           Margin="0,0,10,0"/>
         <TextBlock Text="General" 
   FontSize="18" 
       FontWeight="SemiBold"
         Foreground="{DynamicResource TextPrimaryBrush}"
     VerticalAlignment="Center"/>
     </StackPanel>

               <!-- Settings Items -->
           <StackPanel Grid.Row="1">
          
  <!-- Start with Windows -->
            <Border Background="{DynamicResource SurfaceBrush}"
          BorderBrush="{DynamicResource BorderBrush}"
     BorderThickness="1"
          CornerRadius="6"
       Padding="16">
       <Grid>
    <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
         <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

             <!-- Icon -->
                <Border Grid.Column="0" 
 Background="{DynamicResource AccentBrush}"
         Width="40" Height="40"
   CornerRadius="8"
         Margin="0,0,16,0">
 <TextBlock Text="🚀" 
    FontSize="20"
    Foreground="{DynamicResource TextPrimaryBrush}"
         HorizontalAlignment="Center"
  VerticalAlignment="Center"/>
 </Border>

    <!-- Info -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
          <TextBlock Text="Start with Windows" 
               FontSize="15"
      FontWeight="SemiBold"
  Foreground="{DynamicResource TextPrimaryBrush}"
  Margin="0,0,0,4"/>
    <TextBlock Text="Automatically launch UAInspector when Windows starts" 
       FontSize="12"
Foreground="{DynamicResource TextSecondaryBrush}"
            TextWrapping="Wrap"/>
        </StackPanel>

      <!-- Toggle Switch -->
   <CheckBox Grid.Column="2"
      IsChecked="{Binding StartWithWindows, Mode=TwoWay}"
   VerticalAlignment="Center"
           Margin="16,0,0,0">
          <CheckBox.Style>
           <Style TargetType="CheckBox">
      <Setter Property="Template">
  <Setter.Value>
       <ControlTemplate TargetType="CheckBox">
            <Grid>
<!-- Toggle Switch Track -->
               <Border x:Name="Track" 
       Width="50" 
          Height="26"
 CornerRadius="13"
     Background="#3E3E42">
    <Border.Style>
              <Style TargetType="Border">
    <Style.Triggers>
 <DataTrigger Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
             <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
            </DataTrigger>
     </Style.Triggers>
  </Style>
          </Border.Style>
              </Border>

             <!-- Toggle Switch Thumb -->
    <Ellipse x:Name="Thumb"
         Width="20" 
               Height="20"
         Fill="White"
            HorizontalAlignment="Left"
   Margin="3,0,0,0">
    <Ellipse.RenderTransform>
       <TranslateTransform x:Name="ThumbTransform" X="0"/>
 </Ellipse.RenderTransform>
     <Ellipse.Style>
                <Style TargetType="Ellipse">
         <Style.Triggers>
       <DataTrigger Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
   <DataTrigger.EnterActions>
         <BeginStoryboard>
   <Storyboard>
     <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
     To="24"
      Duration="0:0:0.2"/>
     </Storyboard>
       </BeginStoryboard>
      </DataTrigger.EnterActions>
            <DataTrigger.ExitActions>
     <BeginStoryboard>
     <Storyboard>
              <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
               To="0"
        Duration="0:0:0.2"/>
        </Storyboard>
      </BeginStoryboard>
      </DataTrigger.ExitActions>
            </DataTrigger>
  </Style.Triggers>
     </Style>
            </Ellipse.Style>
       </Ellipse>
                   </Grid>
     </ControlTemplate>
     </Setter.Value>
</Setter>
         <Setter Property="Cursor" Value="Hand"/>
     </Style>
            </CheckBox.Style>
       </CheckBox>
     </Grid>
    </Border>

      </StackPanel>
       </Grid>
        </Border>

     <!-- Appearance Settings -->
 <Border Style="{StaticResource Card}" Margin="0,0,0,16">
      <Grid>
          <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
   <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>

             <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
                            <TextBlock Text="🔌" FontSize="20" VerticalAlignment="Center" 
   Foreground="{DynamicResource TextPrimaryBrush}"
           Margin="0,0,10,0"/>
   <TextBlock Text="Appearance" 
      FontSize="18" 
                FontWeight="SemiBold"
         Foreground="{DynamicResource TextPrimaryBrush}"
                VerticalAlignment="Center"/>
          </StackPanel>

         <!-- Theme Selection -->
     <StackPanel Grid.Row="1">
     <Border Background="{DynamicResource SurfaceBrush}"
       BorderBrush="{DynamicResource BorderBrush}"
      BorderThickness="1"
     CornerRadius="6"
      Padding="16">
           <Grid>
          <Grid.ColumnDefinitions>
           <ColumnDefinition Width="Auto"/>
      <ColumnDefinition Width="*"/>
           <ColumnDefinition Width="Auto"/>
         </Grid.ColumnDefinitions>

      <!-- Icon -->
             <Border Grid.Column="0" 
         Background="{DynamicResource AccentBrush}"
        Width="40" Height="40"
          CornerRadius="8"
         Margin="0,0,16,0">
          <TextBlock Text="🌙" 
              FontSize="20"
    Foreground="{DynamicResource TextPrimaryBrush}"
    HorizontalAlignment="Center"
   VerticalAlignment="Center"/>
             </Border>

  <!-- Info -->
 <StackPanel Grid.Column="1" VerticalAlignment="Center">
         <TextBlock Text="{Binding ThemeDisplayName}" 
       FontSize="15"
 FontWeight="SemiBold"
         Foreground="{DynamicResource TextPrimaryBrush}"
   Margin="0,0,0,4"/>
             <TextBlock Text="Switch between light and dark theme" 
       FontSize="12"
   Foreground="{DynamicResource TextSecondaryBrush}"
    TextWrapping="Wrap"/>
      </StackPanel>

          <!-- Toggle Switch -->
                <CheckBox Grid.Column="2"
            IsChecked="{Binding IsLightMode, Mode=TwoWay}"
          VerticalAlignment="Center"
        Margin="16,0,0,0">
          <CheckBox.Style>
       <Style TargetType="CheckBox">
 <Setter Property="Template">
     <Setter.Value>
  <ControlTemplate TargetType="CheckBox">
           <Grid>
                <!-- Toggle Switch Track -->
 <Border x:Name="Track" 
 Width="50" 
Height="26"
 CornerRadius="13"
       Background="#3E3E42">
       <Border.Style>
<Style TargetType="Border">
           <Style.Triggers>
    <DataTrigger Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
  <Setter Property="Background" Value="{DynamicResource AccentBrush}"/>
         </DataTrigger>
             </Style.Triggers>
   </Style>
       </Border.Style>
      </Border>

     <!-- Toggle Switch Thumb -->
          <Ellipse x:Name="Thumb"
      Width="20" 
    Height="20"
     Fill="White"
       HorizontalAlignment="Left"
Margin="3,0,0,0">
    <Ellipse.RenderTransform>
    <TranslateTransform x:Name="ThumbTransform" X="0"/>
     </Ellipse.RenderTransform>
    <Ellipse.Style>
               <Style TargetType="Ellipse">
        <Style.Triggers>
        <DataTrigger Binding="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
  <DataTrigger.EnterActions>
   <BeginStoryboard>
     <Storyboard>
   <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
     To="24"
     Duration="0:0:0.2"/>
     </Storyboard>
       </BeginStoryboard>
            </DataTrigger.EnterActions>
          <DataTrigger.ExitActions>
     <BeginStoryboard>
     <Storyboard>
              <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
               To="0"
        Duration="0:0:0.2"/>
        </Storyboard>
      </BeginStoryboard>
      </DataTrigger.ExitActions>
            </DataTrigger>
  </Style.Triggers>
     </Style>
            </Ellipse.Style>
                </Ellipse>
   </Grid>
           </ControlTemplate>
      </Setter.Value>
    </Setter>
       <Setter Property="Cursor" Value="Hand"/>
</Style>
           </CheckBox.Style>
      </CheckBox>
      </Grid>
    </Border>
            </StackPanel>
    </Grid>
      </Border>

             <!-- Connection Settings (Future) -->
                <Border Style="{StaticResource Card}" Margin="0,0,0,16" Opacity="0.5">
          <Grid>
  <Grid.RowDefinitions>
     <RowDefinition Height="Auto"/>
     <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,16">
        <TextBlock Text="🎨" FontSize="20" VerticalAlignment="Center" 
   Foreground="{DynamicResource TextPrimaryBrush}"
    Margin="0,0,10,0"/>
        <TextBlock Text="Connection" 
 FontSize="18" 
                  FontWeight="SemiBold"
  Foreground="{DynamicResource TextPrimaryBrush}"
            VerticalAlignment="Center"/>
           <Border Background="{DynamicResource WarningBrush}"
    CornerRadius="4"
     Padding="8,2"
              Margin="12,0,0,0"
    VerticalAlignment="Center">
   <TextBlock Text="COMING SOON" 
 FontSize="10"
      FontWeight="Bold"
    Foreground="White"/>
            </Border>
   </StackPanel>

        <TextBlock Grid.Row="1" 
                 Text="Connection timeout, retry settings, and more" 
 FontSize="13"
          Foreground="{DynamicResource TextSecondaryBrush}"/>
        </Grid>
    </Border>

  <!-- Info Footer -->
  <Border Background="{DynamicResource SurfaceBrush}"
       BorderBrush="{DynamicResource BorderBrush}"
          BorderThickness="1"
       CornerRadius="6"
  Padding="16">
    <StackPanel>
 <TextBlock Text="ℹ️ About Settings" 
      FontSize="14"
   FontWeight="SemiBold"
    Foreground="{DynamicResource TextPrimaryBrush}"
  Margin="0,0,0,8"/>
   <TextBlock FontSize="12"
Foreground="{DynamicResource TextSecondaryBrush}"
   TextWrapping="Wrap">
     <Run Text="Settings are saved automatically when you make changes."/>
          <LineBreak/>
    <Run Text="Configuration file location:"/>
   <Run Text="%APPDATA%\UAInspector\AppSettings.json" FontFamily="Consolas"/>
  </TextBlock>
      </StackPanel>
  </Border>

     </StackPanel>
   </ScrollViewer>
    </Grid>
</UserControl>
